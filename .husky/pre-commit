#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Styling, testing and building your project before committing ğŸ—ï¸ğŸ‘·'

# Check prettier
npm run check-format || {
  echo 'ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ Prettier Check Failed. ğŸ¤¡ğŸ˜‚âŒğŸ¤¡
      Run npm run format, add changes, and try commit again';
  exit 1;
}

# Check ESLint
npm run check-lint || {
  echo 'ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ ESLint Check Failed. ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ 
      Make the required changes listed above, add changes, and try to commit again';
  exit 1;
}

# Check tsconfig
npm run check-types || {
  echo 'ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ Type Check Failed. ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ 
      Make the required changes listed above, add changes, and try commit again';
  exit 1;
}

# Build your project
npm run build || {
  echo 'ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ Your Build Failed. ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ 
      View the error above';
  exit 1;
}

echo "âœ…âœ…âœ…âœ… Success Commit... âœ…âœ…âœ…âœ…"
